/*
 * angular-commonmark 0.0.8
 * (c) 2015 J. Harshbarger
 * Licensed MIT
 */
!function(){"use strict";angular.module("hc.commonmark",[]).provider("commonMark",[function(){var a={sanitize:!1,highlight:!1};this.setOptions=function(b){a=angular.extend(a,b||{})},this.$get=["$window","$injector","$log",function(b,c,d){var e=function f(b,e){e=angular.extend({},a,e||{});var g=f.parser.parse(b),h=f.renderer;if(e.highlight&&"function"==typeof e.highlight)for(var i,j,k=g.walker();i=k.next();)if(j=i.node,"CodeBlock"===j.type){var l=j.info.split(/ +/),m=0===l.length||0===l[0].length?"":"class=language-"+h.escape(l[0],!0);j.literal="<pre><code "+m+">"+e.highlight(j.literal)+"</pre></code>",j._type="HtmlBlock"}var n=h.render(g);if(e.sanitize!==!1)if(c.has("$sanitize")){var o=c.get("$sanitize");n=o(n)}else d.error("angular-commonmark:","Add 'ngSanitize' to your module dependencies"),n="";return n};return e.renderer=new b.commonmark.HtmlRenderer,e.parser=new b.commonmark.Parser,e}]}]).directive("commonMark",["commonMark",function(a){return{restrict:"AE",replace:!0,scope:{opts:"=",commonMark:"="},link:function(b,c,d){function e(d){c.html(a(d||"",b.opts||null))}e(b.commonMark||c.text()||""),d.commonMark&&b.$watch("commonMark",e)}}}])}();