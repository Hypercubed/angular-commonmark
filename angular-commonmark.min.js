/*
 * angular-commonmark 0.0.3
 * (c) 2014 J. Harshbarger
 * Licensed MIT
 */
!function(){"use strict";angular.module("hc.commonmark",[]).provider("commonMark",[function(){var a={sanitize:!1,highlight:!1};this.setOptions=function(b){a=angular.extend(a,b||{})},this.$get=["$window","$injector","$log",function(b,c,d){var e=function f(b,e){e=angular.extend({},a,e||{});var g=f.parser.parse(b),h=f.renderer;e.highlight&&"function"==typeof e.highlight&&g.children.forEach(function(a){if("CodeBlock"===a.t){var b=a.info.split(/ +/),c=0===b.length||0===b[0].length?"":"class=language-"+h.escape(b[0],!0);a.string_content="<pre><code "+c+">"+e.highlight(a.string_content)+"</pre></code>",a.t="HtmlBlock"}});var i=h.render(g);if(e.sanitize!==!1)if(c.has("$sanitize")){var j=c.get("$sanitize");i=j(i)}else d.error("angular-commonmark:","Add 'ngSanitize' to your module dependencies"),i="";return i};return e.renderer=new b.commonmark.HtmlRenderer,e.parser=new b.commonmark.DocParser,e}]}]).directive("commonMark",["commonMark",function(a){return{restrict:"AE",replace:!0,scope:{opts:"=",commonMark:"="},link:function(b,c,d){function e(d){c.html(a(d||"",b.opts||null))}e(b.commonMark||c.text()||""),d.commonMark&&b.$watch("commonMark",e)}}}])}();