/*
 * angular-commonmark 0.0.2
 * (c) 2014 J. Harshbarger
 * Licensed MIT
 */
!function(){"use strict";angular.module("hc.commonmark",[]).provider("commonMark",[function(){var a={sanitize:!1,highlight:!1};this.setOptions=function(b){a=angular.extend(a,b||{})},this.$get=["$window","$injector",function(b,c){var d=function f(b,d){d=angular.extend({},a,d||{});var e=f.parser.parse(b),g=f.renderer;d.highlight&&"function"==typeof d.highlight&&e.children.forEach(function(a){if("FencedCode"===a.t){var b=a.info.split(/ +/),c=0===b.length||0===b[0].length?"":"class=language-"+g.escape(b[0],!0);a.string_content="<pre><code "+c+">"+d.highlight(a.string_content)+"</pre></code>",a.t="HtmlBlock"}});var h=g.render(e);return d.sanitize===!0&&c.has("$sanitize")&&(d.sanitize=c.get("$sanitize")),d.sanitize&&"function"==typeof d.sanitize&&(h=d.sanitize(h)),h},e=b.stmd;return d.renderer=new e.HtmlRenderer,d.parser=new e.DocParser,d}]}]).directive("commonMark",["commonMark",function(a){return{restrict:"AE",replace:!0,scope:{opts:"=",commonMark:"="},link:function(b,c,d){function e(d){c.html(a(d||"",b.opts||null))}e(b.commonMark||c.text()||""),d.commonMark&&b.$watch("commonMark",e)}}}])}();
