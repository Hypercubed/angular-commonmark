/*
 * angular-commonmark 0.0.2
 * (c) 2014 J. Harshbarger
 * Licensed MIT
 */
!function(){"use strict";angular.module("hc.commonmark",[]).provider("commonMark",[function(){var a={sanitize:!1,highlight:!1};this.setOptions=function(b){a=angular.extend(a,b||{})},this.$get=["$window","$injector","$log",function(b,c,d){var e=function g(b,e){e=angular.extend({},a,e||{});var f=g.parser.parse(b),h=g.renderer;e.highlight&&"function"==typeof e.highlight&&f.children.forEach(function(a){if("FencedCode"===a.t){var b=a.info.split(/ +/),c=0===b.length||0===b[0].length?"":"class=language-"+h.escape(b[0],!0);a.string_content="<pre><code "+c+">"+e.highlight(a.string_content)+"</pre></code>",a.t="HtmlBlock"}});var i=h.render(f);if(e.sanitize!==!1)if(c.has("$sanitize")){var j=c.get("$sanitize");i=j(i)}else d.error("angular-commonmark:","Add 'ngSanitize' to your module dependencies"),i="";return i},f=b.stmd;return e.renderer=new f.HtmlRenderer,e.parser=new f.DocParser,e}]}]).directive("commonMark",["commonMark",function(a){return{restrict:"AE",replace:!0,scope:{opts:"=",commonMark:"="},link:function(b,c,d){function e(d){c.html(a(d||"",b.opts||null))}e(b.commonMark||c.text()||""),d.commonMark&&b.$watch("commonMark",e)}}}])}();